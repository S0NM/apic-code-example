swagger: '2.0'
info:
  x-ibm-name: banking
  title: banking
  version: 1.0.0
schemes:
  - https
host: $(catalog.host)
basePath: /banking
consumes:
  - application/json
produces:
  - application/json
securityDefinitions:
  oauth-1:
    type: oauth2
    description: ''
    flow: implicit
    authorizationUrl: ''
    scopes:
      checking: ''
      saving: ''
      mutual: owner@spoon.com
  clientIdHeader:
    type: apiKey
    in: header
    name: X-IBM-Client-Id
security:
  - clientIdHeader: []
x-ibm-configuration:
  testable: true
  enforced: true
  cors:
    enabled: true
  assembly:
    execute:
      - operation-switch:
          title: operation-switch
          case:
            - operations:
                - verb: get
                  path: '/checking/{account}'
              execute:
                - gatewayscript:
                    title: gatewayscript
                    version: 1.0.0
                    source: |-
                      var body={'account':apim.getvariable('request.parameters.account'), 'owner':apim.getvariable('oauth.resource-owner'), 'scope':apim.getvariable('oauth.scope'), 'miscinfo':apim.getvariable('oauth.miscinfo'), 'notbefore':apim.getvariable('oauth.not-before'), 'notafter':apim.getvariable('oauth.not-after')};
                      body.type = 'checking';
                      body.balance = 0.88;
                      session.output.write(body);
                      apim.output('application/json');
          otherwise: []
          version: 1.0.0
  phase: realized
paths:
  '/checking/{account}':
    get:
      responses:
        '200':
          description: 200 OK
      security:
        - oauth-1:
            - checking
          clientIdHeader: []
    parameters:
      - $ref: '#/parameters/account'
definitions: {}
tags: []
parameters:
  account:
    name: account
    type: string
    required: true
    in: path
